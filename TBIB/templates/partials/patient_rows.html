{% for p in patients %}
<tr class="hover:bg-gray-50 transition">
    <td class="px-6 py-4">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-[#14b999]/10 rounded-full flex items-center justify-center text-[#14b999] font-semibold">
                {{ p.user.name[0] }}
            </div>
            <div>
                <p class="font-medium text-gray-900">{{ p.user.name }}</p>
                <p class="text-sm text-gray-500">{{ p.user.city or 'Non renseign√©' }}</p>
            </div>
        </div>
    </td>
    <td class="px-6 py-4">
        <p class="text-sm text-gray-900">{{ p.user.phone or '--' }}</p>
        <p class="text-sm text-gray-500">{{ p.user.email }}</p>
    </td>
    <td class="px-6 py-4">
        <p class="text-sm text-gray-900">{{ p.last_visit.strftime('%d/%m/%Y') if p.last_visit else '--' }}</p>
    </td>
    <td class="px-6 py-4">
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
            {{ p.visit_count }} visite{% if p.visit_count != 1 %}s{% endif %}
        </span>
    </td>
    <td class="px-6 py-4 text-right">
        <button @click="openPatientHistory({{ p.user.id }})"
                class="px-4 py-2 bg-[#14b999] text-white text-sm rounded-lg hover:bg-[#0d9479] transition font-medium">
            Voir Dossier
        </button>
    </td>
</tr>
{% endfor %}
